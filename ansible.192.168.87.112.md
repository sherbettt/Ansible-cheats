Есть Ubuntu подобный роутер. На нём три интерфейса:
<br/> eth0 - `192.168.87.112` (смотрит в интернет), шлюз: `192.168.87.1/24`;
<br/> eth1 - `192.168.56.1` (не смотрит в интернет, для связи с машинами);
<br/> eth2 - `192.168.96.113` (смотрит в интернет), шлюз: `192.168.96.1/24`
<br/> Имеется дополнительно управляющий ноут: `192.168.87.136/24`.

Также есть две другие Ubuntu управляемые машины, подключённые к выше указанном роутеру с адресами: `192.168.56.2/24`; `192.168.56.3/24`.

На управляемых машинах требуется провести действия:
  - собрать факты об удалённых узлах;
  - установить python;
  - установить postgreql;
  - создать template postgresql.j2

-----------------------------------------------------------------------
## Ansible на роутере.

Для начала рассмотрим управление с роутера (`192.168.87.112/24`), установив на него предварительно Ansible.
Структура проекта будет выглядеть примерно так на начальном этапе:
```
~/.ansible/project/
├── ansible.cfg
├── inventory/
│   └── hosts.yml
├── main.yml
└── roles/
```

 Файл `inventory/hosts.ini`:

```ini
[routers]
router ansible_host=192.168.56.1

[servers]
server1 ansible_host=192.168.56.2
server2 ansible_host=192.168.56.3

[all:children]
routers
servers
```
где:
1. Секция `[routers]` содержит хост router с указанием его IP-адреса
2. Секция `[servers]` содержит два сервера с их IP-адресами
3. Секция `[all:children]` объединяет группы routers и servers в одну группу all


