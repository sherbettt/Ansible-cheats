<br/> [ansible.builtin.copy module](https://docs.ansible.com/ansible/latest/collections/ansible/builtin/copy_module.html#ansible-collections-ansible-builtin-copy-module)

Модуль **`ansible.builtin.copy`** используется для копирования файлов и каталогов с одного узла на другой узел в инфраструктуре Ansible. Он помогает переносить файлы между серверами, устанавливая права доступа, владельца и группу целевого файла.

### Основные возможности модуля:

- Копирует файл или структуру директорий с локальной машины на удалённую машину.
- Позволяет установить метаданные файлов (права доступа, владелец, группа и др.).
- Может использоваться совместно с модулем `ansible.builtin.stat` для получения текущих метаданных файла.
- Для шаблонизации файлов лучше использовать модуль `ansible.builtin.template`.

### Параметры модуля:

- **`src`**: путь к исходному файлу или директорию на контроллере.
- **`dest`**: абсолютный путь назначения на удалённой машине.
- **`owner`**: владелец нового файла или каталога.
- **`group`**: группа нового файла или каталога.
- **`mode`**: права доступа к новому файлу или каталогу.
- **`force`**: определяет необходимость перезаписи существующего файла.
- **`backup`**: создание резервной копии оригинального файла перед заменой.
- **`validate`**: команда для предварительной проверки скопированного файла перед записью.

### Примеры использования:

```yaml
- name: Скопировать файл с владельцем и правами
  ansible.builtin.copy:
    src: /srv/myfiles/foo.conf
    dest: /etc/foo.conf
    owner: foo
    group: foo
    mode: '0644'

- name: Создать резервную копию файла sudoers перед изменением
  ansible.builtin.copy:
    src: /mine/sudoers
    dest: /etc/sudoers
    validate: /usr/sbin/visudo -csf %s
    backup: yes

- name: Копирование файла по прямой ссылке на ресурс
  ansible.builtin.copy:
    content: "# Файл перемещён в /etc/other.conf"
    dest: /etc/mine.conf

- name: Следовать символическим ссылкам при копировании
  ansible.builtin.copy:
    src: /etc/foo.conf
    dest: /path/to/link
    follow: yes
```

### Возвращаемые значения:

- **`backup_file`**: название файла резервной копии.
- **`sha1sum`**: контрольная сумма SHA1 после завершения операции.
- **`dest`**: целевой путь файла.
- **`gid`**: идентификатор группы файла.
- **`group`**: имя группы файла.
- **`md5sum`**: контрольная сумма MD5 после завершения операции.
- **`mode`**: режим доступа к файлу.
- **`owner`**: владелец файла.
- **`size`**: размер файла.
- **`source`**: источник файла.
- **`state`**: конечное состояние файла.

### Заключение:

