# Все атрибуты модуля `ansible.builtin.find`

На основе практического исследования, вот полный список всех атрибутов, которые возвращает модуль `find`:

##  Основные атрибуты

| Атрибут | Тип | Описание |
|---------|-----|-----------|
| `path` | string | Полный путь к файлу/директории |
| `size` | integer | Размер файла в байтах |
| `inode` | integer | Номер inode файла |
| `dev` | integer | ID устройства |
| `nlink` | integer | Количество жестких ссылок |

##  Владелец и права доступа

| Атрибут | Тип | Описание |
|---------|-----|-----------|
| `mode` | string | Права доступа (например, "0644") |
| `uid` | integer | User ID владельца |
| `gid` | integer | Group ID группы |
| `pw_name` | string | Имя пользователя-владельца |
| `gr_name` | string | Имя группы |

##  Детали прав доступа (булевы флаги)

| Атрибут | Тип | Описание |
|---------|-----|-----------|
| `rusr` | boolean | Право на чтение для владельца |
| `wusr` | boolean | Право на запись для владельца |
| `xusr` | boolean | Право на выполнение для владельца |
| `rgrp` | boolean | Право на чтение для группы |
| `wgrp` | boolean | Право на запись для группы |
| `xgrp` | boolean | Право на выполнение для группы |
| `roth` | boolean | Право на чтение для остальных |
| `woth` | boolean | Право на запись для остальных |
| `xoth` | boolean | Право на выполнение для остальных |
| `isuid` | boolean | Установлен SUID бит |
| `isgid` | boolean | Установлен SGID бит |

##  Временные метки

| Атрибут | Тип | Описание |
|---------|-----|-----------|
| `mtime` | float | Время последней модификации (Unix timestamp) |
| `atime` | float | Время последнего доступа (Unix timestamp) |
| `ctime` | float | Время изменения метаданных (Unix timestamp) |

##  Типы файлов (булевы флаги)

| Атрибут | Тип | Описание |
|---------|-----|-----------|
| `isreg` | boolean | Обычный файл |
| `isdir` | boolean | Директория |
| `islnk` | boolean | Символическая ссылка |
| `ischr` | boolean | Символьное устройство |
| `isblk` | boolean | Блочное устройство |
| `isfifo` | boolean | FIFO (именованный канал) |
| `issock` | boolean | Сокет |

##  Дополнительные атрибуты

| Атрибут | Тип | Описание |
|---------|-----|-----------|
| `checksum` | string | SHA1 контрольная сумма (только если `get_checksum: true`) |

## Пример использования в playbook

```yaml
- name: Find files with all attributes
  ansible.builtin.find:
    paths: 
      - /etc
      - /tmp
    patterns: "*"
    file_type: file
    recurse: no
    get_checksum: true
  register: find_result

- name: Display file info
  ansible.builtin.debug:
    msg: |
      File: {{ item.path }}
      Size: {{ item.size | filesizeformat }}
      Owner: {{ item.pw_name }}:{{ item.gr_name }}
      Permissions: {{ item.mode }}
      Type: {% if item.isreg %}Regular file{% endif %}
  loop: "{{ find_result.files }}"
```


## Правила обращения:

```yaml
# Все атрибуты доступны через item.ИМЯ_АТРИБУТА
- name: Примеры обращения к атрибутам
  ansible.builtin.debug:
    msg: |
      Путь: {{ item.path }}
      Размер: {{ item.size }}
      Владелец: {{ item.pw_name }}
      Группа: {{ item.gr_name }}
      Права: {{ item.mode }}
      Inode: {{ item.inode }}
      Время изменения: {{ item.mtime }}
      Это файл: {{ item.isreg }}
      Это директория: {{ item.isdir }}
      Это симлинк: {{ item.islnk }}
      Контрольная сумма: {{ item.checksum }}
```

## Полный список обращений:

###  Основные
- `item.path` - путь к файлу
- `item.size` - размер в байтах  
- `item.inode` - номер inode
- `item.dev` - ID устройства
- `item.nlink` - количество ссылок

###  Владелец
- `item.pw_name` - имя пользователя
- `item.uid` - User ID
- `item.gr_name` - имя группы
- `item.gid` - Group ID
- `item.mode` - права доступа

###  Права доступа
- `item.rusr`, `item.wusr`, `item.xusr` - права владельца
- `item.rgrp`, `item.wgrp`, `item.xgrp` - права группы
- `item.roth`, `item.woth`, `item.xoth` - права остальных
- `item.isuid`, `item.isgid` - специальные биты

###  Время
- `item.mtime` - время модификации
- `item.atime` - время доступа  
- `item.ctime` - время изменения метаданных

###  Типы файлов
- `item.isreg` - обычный файл
- `item.isdir` - директория
- `item.islnk` - симлинк
- `item.ischr` - символьное устройство
- `item.isblk` - блочное устройство
- `item.isfifo` - FIFO
- `item.issock` - сокет

###  Дополнительно
- `item.checksum` - SHA1 хеш

## Пример с фильтрами:

```yaml
- name: Использование с фильтрами
  ansible.builtin.debug:
    msg: |
      Размер: {{ item.size | filesizeformat }}
      Время изменения: {{ item.mtime | float | to_datetime | strftime('%Y-%m-%d %H:%M') }}
      Путь: {{ item.path | basename }}
```

**Да, все атрибуты доступны через `item.название_атрибута`** - это стандартный способ работы с зарегистрированными результатами в Ansible.
